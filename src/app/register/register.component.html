<mat-card>
  <mat-card-title>Register</mat-card-title>
  <mat-card-content>
    <form  [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="example-form">
      <div class="block">

        <mat-form-field>
          <mat-label>Name</mat-label>
          <input type="text" matInput formControlName="name" [errorStateMatcher]="matcher" placeholder="your name">
        </mat-form-field>

        <mat-error *ngIf="registerForm.get('name')?.hasError('minlength')">
          Please enter a name greater than and equal to 4 characters
        </mat-error>

        <mat-error *ngIf="registerForm.get('name')?.hasError('required') && registerForm.controls.name.touched">
          Name is <strong>required</strong>
        </mat-error>

        <span *ngIf="registerForm.errors && registerForm.getError('name')">
          <mat-error>{{registerForm.getError('name')}}</mat-error>
        </span>
      </div>

      <div class="block">

        <mat-form-field>
          <mat-label>Email</mat-label>
          <input type="email" matInput formControlName="email" [errorStateMatcher]="matcher" placeholder="Ex. pat@example.com">
        </mat-form-field>

        <mat-error *ngIf="registerForm.get('email')?.hasError('email') && !registerForm.get('email')?.hasError('required')">
          Please enter a valid email address
        </mat-error>

        <mat-error *ngIf="registerForm.get('email')?.hasError('required') && registerForm.controls.email.touched">
          Email is <strong>required</strong>
        </mat-error>

        <span *ngIf="registerForm.errors && registerForm.getError('email')">
          <mat-error>{{registerForm.getError('email')}}</mat-error>
        </span>

      </div>

      <div class="block">

        <mat-form-field>
          <mat-label>Password</mat-label>
          <input type="password" matInput formControlName="password" [errorStateMatcher]="matcher" placeholder="your password">
        </mat-form-field>

        <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
          Please enter a password greater than and equal to 8 characters
        </mat-error>

        <mat-error *ngIf="registerForm.get('password')?.hasError('required') && registerForm.controls.password.touched ">
          Password is <strong>required</strong>
        </mat-error>

        <span *ngIf="registerForm.errors && registerForm.getError('password')">
          <mat-error>{{registerForm.getError('password')}}</mat-error>
        </span>

      </div>

      <div class="block">

        <mat-form-field>
          <mat-label>Password Confirmation</mat-label>
          <input type="password" matInput formControlName="password_confirmation" [errorStateMatcher]="matcher" placeholder="password confirm">
        </mat-form-field>

        <mat-error *ngIf="registerForm.get('password_confirmation')?.hasError('minlength')">
          Please enter a password greater than and equal to 8 characters
        </mat-error>

        <mat-error *ngIf="registerForm.get('password_confirmation')?.hasError('required') && registerForm.controls.password_confirmation.touched ">
          Password is <strong>required</strong>
        </mat-error>

        <span *ngIf="registerForm.errors && registerForm.getError('password_confirmation')">
          <mat-error>{{registerForm.getError('password_confirmation')}}</mat-error>
        </span>

      </div>

      <div *ngIf="registerForm.errors && registerForm.getError('backend')">
        <mat-error>{{registerForm.getError('backend')}}</mat-error>
      </div>
      <div class="button">
        <button  type="submit" mat-button [disabled]="registerForm.invalid">Register</button>
      </div>
    </form>
    <div style="margin: 20px 0px">
          <span class="example-accordion-item-body" style="color: green">
            {{success?.success}}
          </span>
    </div>
  </mat-card-content>
</mat-card>

